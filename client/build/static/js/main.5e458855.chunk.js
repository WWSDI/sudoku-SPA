(this["webpackJsonpsudoku-react-ts"]=this["webpackJsonpsudoku-react-ts"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(2),c=n.n(r),o=n(9),a=n.n(o),s=(n(16),n(17),n(0)),l=function(){return Object(s.jsxs)("div",{className:"footer",children:[Object(s.jsxs)("p",{children:["Developed by ",Object(s.jsx)("strong",{children:"Shawn Su"})]}),Object(s.jsx)("p",{children:"Launched on 4 Nov 2021"}),Object(s.jsxs)("p",{children:["Studying at ","",Object(s.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.developers.ac.nz/",children:"Developers Institute"})]}),Object(s.jsxs)("div",{className:"logo-container",children:[Object(s.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.linkedin.com/in/shawn-su-78a654215/",children:Object(s.jsx)("img",{src:"https://content.linkedin.com/content/dam/me/business/en-us/amp/brand-site/v2/bg/LI-Bug.svg.original.svg",alt:"Linkedin logo"})}),Object(s.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/WWSDI",children:Object(s.jsx)("svg",{height:"64","aria-hidden":"true",viewBox:"0 0 16 16",version:"1.1",width:"64","data-view-component":"true",className:"octicon octicon-mark-github v-align-middle",children:Object(s.jsx)("path",{"fill-rule":"evenodd",d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})})})]})]})},u=n(10),i=n(11),f=n(1),d=(n(19),function(e,t){return{v:e,i:t,type:0!==e?"auto":"user",error:!1,conflict:!1}}),b=function(e){return e.map(d)};n(20);function j(e){var t=e.cell,n=t.v,r=t.i,c=t.type;t.error;return Object(s.jsx)("div",{className:"auto"===c?"Cell auto":"Cell user",id:"C"+String(r).padStart(2,"0"),children:n||""})}n(21);var v=function(e){return[Math.floor(e/9),e%9]},h=function(e){var t=v(e),n=Object(f.a)(t,2),r=n[0],c=n[1],o=3*Math.floor(r/3),a=3*Math.floor(c/3),s=Array.from({length:81},(function(e,t){return t})).filter((function(e){var t=v(e),n=Object(f.a)(t,2),s=n[0],l=n[1];return s===r||l===c||s>=o&&s<o+3&&l>=a&&l<a+3}));return s},p=function(e){return parseInt(e.substr(1))};function O(e){var t=e.bd,n=(e.bdDispatch,e.ac),c=e.setAc,o=(e.keypress,e.setKeypress,e.won,e.setWon),a=(e.puzzle,Object(r.useState)([])),l=Object(f.a)(a,2),u=l[0],i=l[1],d=function(e){var t=document.querySelector("#C"+String(e).padStart(2,"0"));null===t||void 0===t||t.classList.add("hl-ac")},b=function(){var e=function(e){for(var t=e.map((function(e){return e.v})),n=Array.from({length:9},(function(){return[]})),r=0;r<9;r++)for(var c=0;c<9;c++)n[r].push(t[9*r+c]);return n}(t);console.log("2D Solution:",e);var n=function(e){var t,n=(t=[1,2,3,4,5,6,7,8,9],function(e){return e.length===t.length&&e.slice().sort().every((function(e,n){return e===t[n]}))}),r=[];e.forEach((function(e,t,n){var c=[];e.forEach((function(e,r){c.push(n[r][t])})),r.push(c)}));for(var c=[],o=0;o<3;o++)for(var a=0;a<3;a++){for(var s=[],l=3*o;l<3+3*o;l++)for(var u=3*a;u<3+3*a;u++)s.push(e[l][u]);c.push(s)}return[e.every((function(e){return n(e)})),r.every((function(e){return n(e)})),c.every((function(e){return n(e)}))].every((function(e){return e}))}(e);return console.log("Result:",n),n},h=function(e){var r=function(e,t){var r=v(t),c=Object(f.a)(r,2),o=c[0],a=(c[1],v(n.i)),s=Object(f.a)(a,2),l=s[0];s[1];return l===o},c=function(e,t){var r=v(t),c=Object(f.a)(r,2),o=(c[0],c[1]),a=v(n.i),s=Object(f.a)(a,2);s[0];return s[1]===o},o=function(e,t){var r=v(t),c=Object(f.a)(r,2),o=c[0],a=c[1],s=v(n.i),l=Object(f.a)(s,2),u=l[0],i=l[1],d=3*Math.floor(o/3),b=3*Math.floor(a/3);return u>=d&&u<d+3&&i>=b&&i<b+3},a=function(e,t){return!1},s=function(e,t){return!0};t.map((function(e){return e.v})).filter("row"===e?r:"col"===e?c:"blc"===e?o:"board"===e?s:a).every((function(e){return 0!==e}))&&t.map((function(e){return e.conflict})).filter("row"===e?r:"col"===e?c:"blc"===e?o:"board"===e?s:a).every((function(e){return!1===e}))&&Array.from(document.querySelectorAll(".Cell")).filter("row"===e?r:"col"===e?c:"blc"===e?o:"board"===e?s:a).forEach((function(e,t){setTimeout((function(){return e.classList.add("sudoku-complete")}),30*t),setTimeout((function(){return e.classList.remove("sudoku-complete")}),30*(t+12))}))};return Object(r.useEffect)((function(){i(function(e){var t=v(e),n=Object(f.a)(t,2),r=n[0],c=n[1],o=3*Math.floor(r/3),a=3*Math.floor(c/3),s=document.querySelectorAll(".Cell"),l=Array.from(s).filter((function(e){var t=p(e.id),n=v(t),s=Object(f.a)(n,2),l=s[0],u=s[1];return l===r||u===c||l>=o&&l<o+3&&u>=a&&u<a+3}));return l}(n.i))}),[n]),Object(r.useEffect)((function(){document.querySelectorAll(".Cell").forEach((function(e){e.classList.remove("hl-sudoku","hl-ac","hl-same-num")})),n.i,u.forEach((function(e){return e.classList.add("hl-sudoku")})),function(e){var n=t[e].v,r=document.querySelectorAll(".Cell");Array.from(r).filter((function(e){var r=p(e.id),c=t[r].v;return 0!==c&&c===n})).forEach((function(e){return e.classList.add("hl-same-num")}))}(n.i),d(n.i)}),[t,u]),Object(r.useEffect)((function(){document.querySelectorAll(".Cell").forEach((function(e){t[p(e.id)].conflict?e.classList.add("hl-conflict"):e.classList.remove("hl-conflict")})),h("col"),h("row"),h("blc")}),[t]),Object(r.useEffect)((function(){b()&&o(!0),localStorage.setItem("bd",JSON.stringify(t)),localStorage.setItem("ac",JSON.stringify(n))}),[t,n]),Object(s.jsx)("div",{className:"Board",id:"Board",onClick:function(e){var n=Number(e.target.id.substr(1)),r=t[n].v;c({v:r,i:n})},children:t.map((function(e){return Object(s.jsx)(j,{cell:e},e.i)}))})}var m=n(4),g=n(7),S=function(){var e=Object(g.a)(Object(m.a)().mark((function e(){var t,n;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetching puzzles from ".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URI,"/puzzles")),e.prev=1,e.next=4,fetch("https://sudoku-spa.herokuapp.com/puzzles");case 4:if(t=e.sent,console.log(t.status),!t.ok){e.next=14;break}return e.next=9,t.json();case 9:return n=e.sent,console.log("\ud83c\udf08 new puzzles fetched",n),e.abrupt("return",n);case 14:alert("Error: fetching puzzles not successful");case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(){return e.apply(this,arguments)}}(),y=function(e){["test","easy","medium","hard","hell"].forEach((function(t){localStorage.setItem("puzzles-".concat(t),JSON.stringify(e.puzzles[t]))}))};n(22);function x(e){var t=e.setPuzzle,n=e.setSolution,c=e.bdDispatch,o=e.setWon,a=Object(r.useState)("easy"),l=Object(f.a)(a,2),u=l[0],i=l[1];return Object(s.jsxs)("div",{className:"GameController",children:[Object(s.jsxs)("label",{htmlFor:"difficulty-select",children:["Difficulty:",Object(s.jsxs)("select",{name:"difficulty",id:"difficulty-select",value:u,onChange:function(e){i(e.target.value)},children:[Object(s.jsx)("option",{value:"test",children:"Test"}),Object(s.jsx)("option",{value:"easy",children:"Easy"}),Object(s.jsx)("option",{value:"medium",children:"Medium"}),Object(s.jsx)("option",{value:"hard",children:"Hard"}),Object(s.jsx)("option",{value:"hell",children:"Hell"})]})]}),Object(s.jsx)("div",{id:"new-game",onClick:function(){var e;(function(e){return void 0===e||null===e||"null"===e})(localStorage.getItem("puzzles-".concat(u)))&&Object(g.a)(Object(m.a)().mark((function t(){var n;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S();case 2:void 0!==(n=t.sent)&&(y(n),e=localStorage.getItem("puzzles-".concat(u)));case 4:case"end":return t.stop()}}),t)})))(),setTimeout((function(){e=localStorage.getItem("puzzles-".concat(u));var r=JSON.parse(e);console.log("Parsed Puzzles:",r);var a=r.pop(),s=a.puzzle,l=a.solution;console.log(s,l),localStorage.setItem("ac",JSON.stringify(null)),localStorage.setItem("bd",JSON.stringify(null)),t(s),n(l),c({type:"START_NEW_GAME",payload:{bd:b(s)}}),o(!1),0===r.length?localStorage.setItem("puzzles-".concat(u),JSON.stringify(null)):localStorage.setItem("puzzles-".concat(u),JSON.stringify(r)),console.log(localStorage.getItem("puzzles-".concat(u)))}),200)},children:"New Game"}),Object(s.jsx)("div",{className:"time",children:"Time: "})]})}n(23);var z=function(e){var t=e.id;return Object(s.jsx)("div",{className:"Button",id:String(t),children:t})};n(24);function w(e){e.bd;var t=e.bdDispatch,n=e.ac;e.setAc,e.keypress,e.setKeypress;return Object(s.jsx)("div",{className:"Numpad",onClick:function(e){var r=Number(e.target.id);console.log("Number button value:",r,"ac.v:",n.v),t({type:"SET_CELL_VALUE",payload:{v:r}})},children:[1,2,3,4,5,6,7,8,9].map((function(e){return Object(s.jsx)(z,{id:e},e)}))})}var k=[3,0,9,5,1,7,0,6,0,1,2,6,8,3,0,7,5,9,0,7,5,9,0,2,3,1,4,5,0,4,7,0,6,1,0,3,6,1,3,4,9,0,5,0,7,0,8,0,0,5,1,9,4,0,0,0,1,6,7,0,0,9,0,0,6,2,0,8,9,0,0,0,9,0,0,0,0,5,6,0,1],E=[3,4,9,5,1,7,8,6,2,1,2,6,8,3,4,7,5,9,8,7,5,9,6,2,3,1,4,5,9,4,7,2,6,1,8,3,6,1,3,4,9,8,5,2,7,2,8,7,3,5,1,9,4,6,4,5,1,6,7,3,2,9,8,7,6,2,1,8,9,4,3,5,9,3,8,2,4,5,6,7,1];function N(){var e=Object(r.useState)(k),t=Object(f.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(E),a=Object(f.a)(o,2),l=a[0],d=a[1],j=Object(r.useState)(JSON.parse(localStorage.getItem("ac"))||{i:0,v:0}),v=Object(f.a)(j,2),p=v[0],m=v[1],g=Object(r.useState)(!1),S=Object(f.a)(g,2),y=S[0],z=S[1],N=Object(r.useState)(!1),A=Object(f.a)(N,2),C=A[0],T=A[1],_=Object(r.useReducer)((function(e,t){switch(t.type){case"SET_CELL_VALUE":var n=Object(i.a)(e),r=p.i,c=t.payload.v;if(void 0!==c){n[r]=Object(u.a)({},e[r]),"user"===e[r].type&&(e[r].v!==c?(n[r].v=c,c!==l[r]?n[r].error=!0:n[r].error=!1):e[r].v===c&&(n[r].v=0,n[r].error=!1));var o=h(r).filter((function(e){return 0!==n[e].v||e===r}));console.log("\ud83c\udf38nonZeroSudoku",o);var a=o.map((function(e){var t=h(e).filter((function(t){return n[t].v===n[e].v&&0!==n[e].v}));return console.log("\ud83c\udf38sameValueCells",t),[e,t.length>1]}));console.log("\ud83c\udf38conlifcts",a),a.forEach((function(e){var t=Object(f.a)(e,2),r=t[0],c=t[1];n[r].conflict=!!c}))}return n;case"START_NEW_GAME":var s=t.payload.bd;return void 0!==s?s:e;default:throw new Error("Unhandled action type: "+t.type)}}),JSON.parse(localStorage.getItem("bd"))||b(n)),I=Object(f.a)(_,2),L=I[0],D=I[1];return Object(s.jsxs)("div",{className:"Game",children:[Object(s.jsx)(x,{bd:L,bdDispatch:D,ac:p,setAc:m,keypress:y,setKeypress:z,won:C,setWon:T,puzzle:n,setPuzzle:c,solution:l,setSolution:d}),Object(s.jsx)(O,{bd:L,bdDispatch:D,ac:p,setAc:m,keypress:y,setKeypress:z,won:C,setWon:T,puzzle:n,setPuzzle:c,solution:l,setSolution:d}),C?Object(s.jsxs)("div",{className:"congrats",children:[Object(s.jsx)("p",{children:"\ud83c\udf8a\ud83e\udd73\ud83c\udf89"}),Object(s.jsx)("p",{children:"You Won!"}),Object(s.jsx)("p",{children:"\ud83d\udc4f\ud83c\udf7e\ud83e\udd42"})]}):Object(s.jsx)(w,{bd:L,bdDispatch:D,ac:p,setAc:m,keypress:y,setKeypress:z,won:C,setWon:T,puzzle:n,setPuzzle:c,solution:l,setSolution:d})]})}function A(){return Object(s.jsxs)("div",{className:"tips",children:[Object(s.jsx)("h2",{children:"How to play"}),Object(s.jsx)("p",{children:"The goal of Sudoku is to fill each row, column, and 3x3 block with numbers from 1 to 9; every number can only show up once in each row, column, and 3x3 block. That's it! So simple!"})]})}var C=function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)("h1",{children:"Classical Sudoku"}),Object(s.jsx)(N,{}),Object(s.jsx)(A,{}),Object(s.jsx)(l,{})]})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,26)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),o(e),a(e)}))};a.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(C,{})}),document.getElementById("root")),T()}],[[25,1,2]]]);
//# sourceMappingURL=main.5e458855.chunk.js.map