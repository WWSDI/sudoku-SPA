(this["webpackJsonpsudoku-react-ts"]=this["webpackJsonpsudoku-react-ts"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),o=n(8),a=n.n(o),s=(n(15),n(16),n(0)),l=function(){return Object(s.jsxs)("div",{className:"footer",children:[Object(s.jsxs)("p",{children:["Developed by ",Object(s.jsx)("strong",{children:"Shawn Su"})]}),Object(s.jsx)("p",{children:"Launched on 4 Nov 2021"}),Object(s.jsxs)("p",{children:["Studying at ","",Object(s.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.developers.ac.nz/",children:"Developers Institute"})]}),Object(s.jsxs)("div",{className:"logo-container",children:[Object(s.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.linkedin.com/in/shawn-su-78a654215/",children:Object(s.jsx)("img",{src:"https://content.linkedin.com/content/dam/me/business/en-us/amp/brand-site/v2/bg/LI-Bug.svg.original.svg",alt:"Linkedin logo"})}),Object(s.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/WWSDI",children:Object(s.jsx)("svg",{height:"64","aria-hidden":"true",viewBox:"0 0 16 16",version:"1.1",width:"64","data-view-component":"true",className:"octicon octicon-mark-github v-align-middle",children:Object(s.jsx)("path",{"fill-rule":"evenodd",d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})})})]})]})},i=n(10),u=n(9),d=n(2),f=(n(18),function(e,t){return{v:e,i:t,type:0!==e?"auto":"user",error:!1,conflict:!1}}),h=function(e){return e.map(f)};n(19);function j(e){var t=e.cell,n=t.v,c=t.i,r=t.type;t.error;return Object(s.jsx)("div",{className:"auto"===r?"Cell auto":"Cell user",id:"C"+String(c).padStart(2,"0"),children:n||""})}n(20);var b=function(e){return[Math.floor(e/9),e%9]},v=function(e){var t=b(e),n=Object(d.a)(t,2),c=n[0],r=n[1],o=3*Math.floor(c/3),a=3*Math.floor(r/3);return Array.from({length:81},(function(e,t){return t})).filter((function(e){var t=b(e),n=Object(d.a)(t,2),s=n[0],l=n[1];return s===c||l===r||s>=o&&s<o+3&&l>=a&&l<a+3}))},p=function(e){return parseInt(e.substr(1))};function O(e){var t=e.bd,n=(e.bdDispatch,e.ac),r=e.setAc,o=(e.keypress,e.setKeypress,e.won,e.setWon),a=(e.puzzle,Object(c.useState)([])),l=Object(d.a)(a,2),i=l[0],u=l[1],f=function(e){var t=document.querySelector("#C"+String(e).padStart(2,"0"));null===t||void 0===t||t.classList.add("hl-ac")},h=function(){var e=function(e){for(var t=e.map((function(e){return e.v})),n=Array.from({length:9},(function(){return[]})),c=0;c<9;c++)for(var r=0;r<9;r++)n[c].push(t[9*c+r]);return n}(t);console.log("2D Solution:",e);var n=function(e){var t,n=(t=[1,2,3,4,5,6,7,8,9],function(e){return e.length===t.length&&e.slice().sort().every((function(e,n){return e===t[n]}))}),c=[];e.forEach((function(e,t,n){var r=[];e.forEach((function(e,c){r.push(n[c][t])})),c.push(r)}));for(var r=[],o=0;o<3;o++)for(var a=0;a<3;a++){for(var s=[],l=3*o;l<3+3*o;l++)for(var i=3*a;i<3+3*a;i++)s.push(e[l][i]);r.push(s)}return[e.every((function(e){return n(e)})),c.every((function(e){return n(e)})),r.every((function(e){return n(e)}))].every((function(e){return e}))}(e);return console.log("Result:",n),n};return Object(c.useEffect)((function(){u(function(e){var t=b(e),n=Object(d.a)(t,2),c=n[0],r=n[1],o=3*Math.floor(c/3),a=3*Math.floor(r/3),s=document.querySelectorAll(".Cell");return Array.from(s).filter((function(e){var t=p(e.id),n=b(t),s=Object(d.a)(n,2),l=s[0],i=s[1];return l===c||i===r||l>=o&&l<o+3&&i>=a&&i<a+3}))}(n.i))}),[n]),Object(c.useEffect)((function(){document.querySelectorAll(".Cell").forEach((function(e){e.classList.remove("hl-sudoku","hl-ac","hl-same-num")})),n.i,i.forEach((function(e){return e.classList.add("hl-sudoku")})),function(e){var n=t[e].v,c=document.querySelectorAll(".Cell");Array.from(c).filter((function(e){var c=p(e.id),r=t[c].v;return 0!==r&&r===n})).forEach((function(e){return e.classList.add("hl-same-num")}))}(n.i),f(n.i)}),[t,i]),Object(c.useEffect)((function(){document.querySelectorAll(".Cell").forEach((function(e){t[p(e.id)].conflict?e.classList.add("hl-conflict"):e.classList.remove("hl-conflict")}))}),[t]),Object(c.useEffect)((function(){h()&&o(!0),localStorage.setItem("bd",JSON.stringify(t)),localStorage.setItem("ac",JSON.stringify(n))}),[t,n]),Object(s.jsx)("div",{className:"Board",id:"Board",onClick:function(e){var n=Number(e.target.id.substr(1)),c=t[n].v;r({v:c,i:n})},children:t.map((function(e){return Object(s.jsx)(j,{cell:e},e.i)}))})}var m=n(3),g=n.n(m),S=n(6),y=function(){var e=Object(S.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetching puzzles from ".concat("http://localhost:5005","/puzzles")),e.next=3,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URI:"http://localhost:5005"}).API_URL,"/puzzles"));case 3:if(!(t=e.sent).ok){e.next=12;break}return e.next=7,t.json();case 7:return n=e.sent,console.log("\ud83c\udf08 new puzzles fetched",n),e.abrupt("return",n);case 12:alert("Error: fetching puzzles not successful");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(e){["easy","medium","hard"].forEach((function(t){localStorage.setItem("puzzles-".concat(t),JSON.stringify(e.puzzles[t]))}))};n(22);function x(e){var t=e.setPuzzle,n=e.setSolution,r=e.bdDispatch,o=e.setWon,a=Object(c.useState)("easy"),l=Object(d.a)(a,2),i=l[0],u=l[1];return Object(s.jsxs)("div",{className:"GameController",children:[Object(s.jsxs)("label",{htmlFor:"difficulty-select",children:["Difficulty:",Object(s.jsxs)("select",{name:"difficulty",id:"difficulty-select",value:i,onChange:function(e){u(e.target.value)},children:[Object(s.jsx)("option",{value:"easy",children:"Easy"}),Object(s.jsx)("option",{value:"medium",children:"Medium"}),Object(s.jsx)("option",{value:"hard",children:"Hard"})]})]}),Object(s.jsx)("div",{id:"new-game",onClick:function(){var e;console.log(i),console.log(typeof localStorage.getItem("puzzles-".concat(i)),localStorage.getItem("puzzles-".concat(i))),"null"!==localStorage.getItem("puzzles-".concat(i))&&void 0!==localStorage.getItem("puzzles-".concat(i))||Object(S.a)(g.a.mark((function t(){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y();case 2:void 0!==(n=t.sent)&&(z(n),e=localStorage.getItem("puzzles-".concat(i)));case 4:case"end":return t.stop()}}),t)})))(),setTimeout((function(){e=localStorage.getItem("puzzles-".concat(i));var c=JSON.parse(e);console.log("Parsed Puzzles:",c);var a=c.pop(),s=a.puzzle,l=a.solution;console.log(s,l),localStorage.setItem("ac",JSON.stringify(null)),localStorage.setItem("bd",JSON.stringify(null)),t(s),n(l),r({type:"START_NEW_GAME",payload:{bd:h(s)}}),o(!1),0===c.length?localStorage.setItem("puzzles-".concat(i),JSON.stringify(null)):localStorage.setItem("puzzles-".concat(i),JSON.stringify(c)),console.log(localStorage.getItem("puzzles-".concat(i)))}),500)},children:"New Game"}),Object(s.jsx)("div",{className:"time",children:"Time: "})]})}n(23);var E=function(e){var t=e.id;return Object(s.jsx)("div",{className:"Button",id:String(t),children:t})};n(24);function N(e){e.bd;var t=e.bdDispatch,n=e.ac;e.setAc,e.keypress,e.setKeypress;return Object(s.jsx)("div",{className:"Numpad",onClick:function(e){var c=Number(e.target.id);console.log("Number button value:",c,"ac.v:",n.v),t({type:"SET_CELL_VALUE",payload:{v:c}})},children:[1,2,3,4,5,6,7,8,9].map((function(e){return Object(s.jsx)(E,{id:e},e)}))})}var w=[3,0,9,5,1,7,0,6,0,1,2,6,8,3,0,7,5,9,0,7,5,9,0,2,3,1,4,5,0,4,7,0,6,1,0,3,6,1,3,4,9,0,5,0,7,0,8,0,0,5,1,9,4,0,0,0,1,6,7,0,0,9,0,0,6,2,0,8,9,0,0,0,9,0,0,0,0,5,6,0,1],k=[3,4,9,5,1,7,8,6,2,1,2,6,8,3,4,7,5,9,8,7,5,9,6,2,3,1,4,5,9,4,7,2,6,1,8,3,6,1,3,4,9,8,5,2,7,2,8,7,3,5,1,9,4,6,4,5,1,6,7,3,2,9,8,7,6,2,1,8,9,4,3,5,9,3,8,2,4,5,6,7,1];function A(){var e=Object(c.useState)(w),t=Object(d.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(k),a=Object(d.a)(o,2),l=a[0],f=a[1],j=Object(c.useState)(JSON.parse(localStorage.getItem("ac"))||{i:0,v:0}),b=Object(d.a)(j,2),p=b[0],m=b[1],g=Object(c.useState)(!1),S=Object(d.a)(g,2),y=S[0],z=S[1],E=Object(c.useState)(!1),A=Object(d.a)(E,2),C=A[0],I=A[1],_=Object(c.useReducer)((function(e,t){switch(t.type){case"SET_CELL_VALUE":var n=Object(u.a)(e),c=p.i,r=t.payload.v;if(void 0!==r){n[c]=Object(i.a)({},e[c]),"user"===e[c].type&&(e[c].v!==r?(n[c].v=r,r!==l[c]?n[c].error=!0:n[c].error=!1):e[c].v===r&&(n[c].v=0,n[c].error=!1));var o=v(c).filter((function(e){return 0!==n[e].v||e===c}));console.log("\ud83c\udf38nonZeroSudoku",o);var a=o.map((function(e){var t=v(e).filter((function(t){return n[t].v===n[e].v&&0!==n[e].v}));return console.log("\ud83c\udf38sameValueCells",t),[e,t.length>1]}));console.log("\ud83c\udf38conlifcts",a),a.forEach((function(e){var t=Object(d.a)(e,2),c=t[0],r=t[1];n[c].conflict=!!r}))}return n;case"START_NEW_GAME":var s=t.payload.bd;return void 0!==s?s:e;default:throw new Error("Unhandled action type: "+t.type)}}),JSON.parse(localStorage.getItem("bd"))||h(n)),L=Object(d.a)(_,2),T=L[0],D=L[1];return Object(s.jsxs)("div",{className:"Game",children:[Object(s.jsx)(x,{bd:T,bdDispatch:D,ac:p,setAc:m,keypress:y,setKeypress:z,won:C,setWon:I,puzzle:n,setPuzzle:r,solution:l,setSolution:f}),Object(s.jsx)(O,{bd:T,bdDispatch:D,ac:p,setAc:m,keypress:y,setKeypress:z,won:C,setWon:I,puzzle:n,setPuzzle:r,solution:l,setSolution:f}),C?Object(s.jsxs)("div",{className:"congrats",children:[Object(s.jsx)("p",{children:"\ud83c\udf8a\ud83e\udd73\ud83c\udf89"}),Object(s.jsx)("p",{children:"You Won!"}),Object(s.jsx)("p",{children:"\ud83d\udc4f\ud83c\udf7e\ud83e\udd42"})]}):Object(s.jsx)(N,{bd:T,bdDispatch:D,ac:p,setAc:m,keypress:y,setKeypress:z,won:C,setWon:I,puzzle:n,setPuzzle:r,solution:l,setSolution:f})]})}function C(){return Object(s.jsxs)("div",{className:"tips",children:[Object(s.jsx)("h2",{children:"How to play"}),Object(s.jsx)("p",{children:"The goal of Sudoku is to fill each row, column, and 3x3 block with numbers from 1 to 9; every number can only show up once in each row, column, and 3x3 block. That's it! So simple!"})]})}var I=function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)("h1",{children:"Classical Sudoku"}),Object(s.jsx)(A,{}),Object(s.jsx)(C,{}),Object(s.jsx)(l,{})]})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,26)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),o(e),a(e)}))};a.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(I,{})}),document.getElementById("root")),_()}],[[25,1,2]]]);
//# sourceMappingURL=main.0a53ae70.chunk.js.map